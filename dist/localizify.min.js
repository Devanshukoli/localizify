!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.localizify=a()}}(function(){var a;return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(b,c,d){!function(b){"use strict";function d(){}function e(a,b){for(var c=a.length;c--;)if(a[c].listener===b)return c;return-1}function f(a){return function(){return this[a].apply(this,arguments)}}function g(a){return"function"==typeof a||a instanceof RegExp||!(!a||"object"!=typeof a)&&g(a.listener)}var h=d.prototype,i=b.EventEmitter;h.getListeners=function(a){var b,c,d=this._getEvents();if(a instanceof RegExp){b={};for(c in d)d.hasOwnProperty(c)&&a.test(c)&&(b[c]=d[c])}else b=d[a]||(d[a]=[]);return b},h.flattenListeners=function(a){var b,c=[];for(b=0;b<a.length;b+=1)c.push(a[b].listener);return c},h.getListenersAsObject=function(a){var b,c=this.getListeners(a);return c instanceof Array&&(b={},b[a]=c),b||c},h.addListener=function(a,b){if(!g(b))throw new TypeError("listener must be a function");var c,d=this.getListenersAsObject(a),f="object"==typeof b;for(c in d)d.hasOwnProperty(c)&&-1===e(d[c],b)&&d[c].push(f?b:{listener:b,once:!1});return this},h.on=f("addListener"),h.addOnceListener=function(a,b){return this.addListener(a,{listener:b,once:!0})},h.once=f("addOnceListener"),h.defineEvent=function(a){return this.getListeners(a),this},h.defineEvents=function(a){for(var b=0;b<a.length;b+=1)this.defineEvent(a[b]);return this},h.removeListener=function(a,b){var c,d,f=this.getListenersAsObject(a);for(d in f)f.hasOwnProperty(d)&&-1!==(c=e(f[d],b))&&f[d].splice(c,1);return this},h.off=f("removeListener"),h.addListeners=function(a,b){return this.manipulateListeners(!1,a,b)},h.removeListeners=function(a,b){return this.manipulateListeners(!0,a,b)},h.manipulateListeners=function(a,b,c){var d,e,f=a?this.removeListener:this.addListener,g=a?this.removeListeners:this.addListeners;if("object"!=typeof b||b instanceof RegExp)for(d=c.length;d--;)f.call(this,b,c[d]);else for(d in b)b.hasOwnProperty(d)&&(e=b[d])&&("function"==typeof e?f.call(this,d,e):g.call(this,d,e));return this},h.removeEvent=function(a){var b,c=typeof a,d=this._getEvents();if("string"===c)delete d[a];else if(a instanceof RegExp)for(b in d)d.hasOwnProperty(b)&&a.test(b)&&delete d[b];else delete this._events;return this},h.removeAllListeners=f("removeEvent"),h.emitEvent=function(a,b){var c,d,e,f,g=this.getListenersAsObject(a);for(f in g)if(g.hasOwnProperty(f))for(c=g[f].slice(0),e=0;e<c.length;e++)d=c[e],!0===d.once&&this.removeListener(a,d.listener),d.listener.apply(this,b||[])===this._getOnceReturnValue()&&this.removeListener(a,d.listener);return this},h.trigger=f("emitEvent"),h.emit=function(a){var b=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,b)},h.setOnceReturnValue=function(a){return this._onceReturnValue=a,this},h._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},h._getEvents=function(){return this._events||(this._events={})},d.noConflict=function(){return b.EventEmitter=i,d},"function"==typeof a&&a.amd?a(function(){return d}):"object"==typeof c&&c.exports?c.exports=d:b.EventEmitter=d}(this||{})},{}],2:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function g(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function h(a){return null!==a&&"[object Object]"===Object.prototype.toString.call(a)}function i(a){return"string"==typeof a}function j(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return Object.assign.apply(Object,[a].concat(c))}function k(a){var b=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],c=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];return i(a)?c[b.join(".")]=a:h(a)&&Object.keys(a).forEach(function(d){k(a[d],[].concat(g(b),[d]),c)}),c}var l=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),m=a("wolfy87-eventemitter"),n=function(a){function c(){d(this,c);var a=e(this,Object.getPrototypeOf(c).call(this));return a._store={locale:"en",localesList:[],scope:null,translations:{},interpolations:{},normalizedKeys:{},separator:"."},a}return f(c,a),l(c,[{key:"getStore",value:function(){return this._store}},{key:"getLocale",value:function(){return this.getStore().locale}},{key:"setLocale",value:function(a){var b=this.getStore().locale;return this.isLocale(a)&&b!==a&&(this.getStore().locale=a,this.emit("change-locale",a,b)),this}},{key:"onLocaleChange",value:function(a){this.addListener("change-locale",a)}},{key:"onTranslationNotFound",value:function(a){this.addListener("translation-not-found",a)}},{key:"setDefaultScope",value:function(a){return this.getStore().scope=a,this}},{key:"clearDefaultScope",value:function(){return this.getStore().scope=null,this}},{key:"registerInterpolations",value:function(a){return j(this.getStore().interpolations,a),this}},{key:"isLocale",value:function(a){return!!~this.getStore().localesList.indexOf(a)}},{key:"add",value:function(a,b){var c=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],d=this.getStore(),e=b;return c&&(e={},e[b]=c),this.isLocale(a)||d.localesList.push(a),d.translations[a]=j({},d.translations[a],e),d.normalizedKeys[a]=j({},d.normalizedKeys[a],k(e)),this}},{key:"_isBrowser",value:function(){return!(void 0!==b&&b.exports)||"undefined"!=typeof navigator}},{key:"detectLocale",value:function(){var a=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],b=a;if(this._isBrowser()&&!b&&(b=navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage),!b)return!1;var c=b.toLowerCase().split(/[_-]+/)[0];return!!this.isLocale(c)&&c}},{key:"_replaceData",value:function(a,b){var c=this,d=a;return(d.match(/\{(.*?)\}/gi)||[]).forEach(function(a){var e=a.replace(/[{}]/gi,"");b[e]?d=d.replace(a,b[e]):c.getStore().interpolations[e]&&(d=d.replace(a,c.getStore().interpolations[e]))}),d}},{key:"translate",value:function(a){var b=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(!a)throw new Error("Key param is required");var c=b.scope||this.getStore().scope,d=this.isLocale(b.locale)&&b.locale||this.getStore().locale;if(!d)throw new Error("Current locale is not defined");var e=this.getStore().normalizedKeys[d],f=(c?c+".":"")+a;return e[f]?this._replaceData(e[f],b):(this.emit("translation-not-found",d,a,c),this._replaceData(a,b))}}]),c}(m),o=new n;o.Instance=n,o.t=o.translate.bind(o),b.exports=o},{"wolfy87-eventemitter":1}]},{},[2])(2)});